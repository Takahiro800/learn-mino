# 条件分岐

## 6.1.2
else句も、見通しを悪化させる要員のひとつ

### 7.3.1  コレクション処理をカプセル化する
-　これくしょんに関する処理は、あちこちに実装されてしまいがち
- これを解決するのが、『ファーストクラスコレクション　(First Class Collection)』。次の要素を備える
  - コレクション型インスタンス変数
  - コレクション型インスタンス変数を不正状態から防御し、正常に操作するメソッド

## 8.2 密結合の各種事例と対処方法
- 継承より移譲
  - コンポジション構造にすること(8.9)
  - コンポジション構造とは？？

### Javaのアクセス修飾子
- `public` すべてのクラスからアクセス可能
- `protected` 同じクラス、または継承クラスからアクセス可能。
- なし　同じパッケージからのみアクセス可能。package privateと呼ぶ。
- `private` 同じクラスからのみアクセス可能

# 10.6 名前設計
## 10.6.1
- 『動詞 + 目的語』の命名は、無関係な責務のメソッドを追加しやすくなる

解決方法
- 目的語の概念を表現するクラスを作る。
- そのクラスに、動詞１語のメソッドを追加する

# 12
### 12.4 コマンド・クエリ分離
-　メソッドは『コマンド(= 変更)』『クエリ(=問い合わせ)』のどちらか一方だけを行うよう設計する

### 12.5 引数
- 引数は不変にすること
- フラグ引数は使わない
- nullを渡さない
- 出力引数は使わない
- 引数は可能な限り少なく



# 良いコード/悪いコードで学ぶ設計入門を読みました
- 発売前からTwitterで目にして、『何となく面白そう』とずっと読むのを楽しみにしてました


### 読む前のレベル感
- 3年目のRailsエンジニア。プログラムを書くのが好きなので、趣味でGoを使ってSlackの通知アプリを作ったり、最近はRustやりたいなーとAtcoderをRustで解いたりしてます。JavaについてはOOPを学習するために書いたことがあるくらいです。
- 業務ではRailsが主ですが、WEB制作のPMの仕事がほとんどでコードレビューを受けたことはトータル３回くらいしかない。

### 読む前の目的
- 『綺麗なプログラム』をかけるエンジニアに憧れるものの、基本的に独学なので『綺麗な』の定義がわからないので少しでも学びたいと思ってた。
- サンプルコードはJavaですが、まあ読めるだろうと感覚でスタートしました

### 読んでの感想・概要

コードを書くときに
- どんなコードは良くないのか
- それはなぜか
- どう対処すべきか
- 実際にコードに落とし込むのか

を繋げて学ぶことができました。以下は、細かい部分の抜粋です.

JavaScriptでvarより `const`を使う方が良いよ〜とか言われて、『へ〜そうなんだ』程度でしたが、『なるほど。どこでも変えれるようにすると
- 意図せず値が変わる可能性がある、
- コードが大きくなるほど、値が変わった場所の特定が困難になる

から避けた方が良いんだな。』とプログラムを書く上での大前提を理解できました。

Rustはデフォルトがイミュータブル（不変）になるのが腑に落ちました。今までは『とりあえずそういう仕様なんだな』と受け入れてました


不変にするために具体的にどうコードで表現するのか理解しました
- インタンスの変数を変更するのではなく、新しいインスタンスを作成してそれをreturnする

### 学習方法と期間
風呂の中や食事中に本文を読み進める
PCを触れる時は、本文をもう一度読み直しながらコードを書く
と２周通読しました。

サンプルコードはできるだけbadコードもgoodコードも自分で書いて進めました。
badコードも書くのは、時間がかかるだけで無駄なような気がするかもしれませんが、
1. badコードを書きながら『ここはこんな感じで改善できそうだな〜』と予想をする
2. 本文を読んで、改善点を確認する

を繰り返すことで定着率が上がったかなと思います。
- 買ってから2週間ほどで全体を通読しました。今後も定期的に見返しことになると思います。

# まとめ
すごく学ぶことの多い本でした。
サンプルコードはJavaでしたが、Rubyで実装するとどうなるのか、やってみようと思います。
最近、実務で初めてGoを使いましたが、静的型付け言語はとても良いですね。書いていて楽しいです。
『綺麗なコードをかけるようになりたいな〜』と漠然と考えているジュニアエンジニアの方にはおすすめです。設計に対する興味がさらに強くなると思います。最終17章には『さらにステップアップするための技術書紹介』があり、読み終えた後も学習を深めるためのロードマップを敷いてくれているのもありがたいです。